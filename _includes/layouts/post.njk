---
layout: layouts/base.njk
---
<div id="search" class="search"></div>
<article class="post">
  <h1>{{ title }}</h1>
  {% if image %}
  <img src="{{ image }}" alt="{{ title }}">
  {% endif %}
  <div class="content">
    {{ content | safe }}
  </div>
<!-- 
  {% if tags %}
  <ul class="tags" data-pagefind-ignore>
    {% for tag in tags %}
    <li><a href="/tags/{{ tag | slugify }}/">{{ tag }}</a></li>
    {% endfor %}
  </ul>
  {% endif %} -->

  {% set related = collections.posts | relatedPosts(tags, page.url, 4) %}
  {% if related.length %}
  <div class="related-posts" data-pagefind-ignore>
    <h2>Related Posts</h2>
    <div class="post-grid">
      {% for post in related %}
      <article class="post-card">
        <a href="{{ post.url }}">
          {% if post.data.image %}
          <img src="{{ post.data.image }}" alt="{{ post.data.title }}">
          {% endif %}
          <h3>{{ post.data.title }}</h3>
        </a>
      </article>
      {% endfor %}
    </div>
  </div>
  {% endif %}
</article>